---
layout:     post
title:      Python常用语句整理
subtitle:   For Data Mining
date:       2018-03-08
author:     Jiayue Cai
header-img: img/post-bg-debug.png
catalog: true
tags:
    - Python
	- Data Mining

---


>持续更新中... 

### 常用头文件 

	import numpy as np               #数学
	import pandas as pd              #表格
	from pandas import Series,DataFrame
    import matplotlib.pyplot as plt  #图形
    %matplotlib inline

	
### 读取数据&简单处理

	df = pd.read_csv("data/train.csv")
	df.describe()                    #各项统计
	df.info()                        #看总数及数值类型 
	
	df = df.drop(['PassengerId','Name','Ticket','Cabin'], axis=1)  #删除这四列
    df = df.dropna()                 #删除含有NaN数据的行

    df.loc[ (df.Sex == 'male'), 'Sex' ] = 0    #令男为0
    df.loc[ (df.Sex == 'female'), 'Sex' ] = 1  #令女为1
	
	
### 最简单模型调用
	
	X_test = pd.read_csv("data/test.csv")
	
	from sklearn.svm import SVC, LinearSVC
	
	svc = SVC()
	
	svc.fit(df, dfs)
	
	Y_pred = svc.predict(X_test)
	
	svc.score(df, df.Survived)
	
### 输出表格

    submission = pd.DataFrame({
        "PassengerId": test_df["PassengerId"],
        "Survived": Y_pred
    })
    submission.to_csv('C:/Users/caijiayue/Desktop/titanic2.csv', index=False)
	
### 使用管道

    df = pd.read_csv('data/train.csv')
    y = df.author.values
    X = df.text.values

    df2 = pd.read_csv('data/test.csv')
    X2 = df2.text.values
	
	from sklearn.pipeline import Pipeline
    from sklearn.feature_extraction.text import CountVectorizer
    from sklearn.feature_extraction.text import TfidfTransformer
    from sklearn import svm
	
	text_clf = Pipeline([('vect', CountVectorizer()),
                     ('tfidf', TfidfTransformer()),
                     ('clf', svm.LinearSVC())
                    ])
    text_clf = text_clf.fit(X,y)
    y2 = text_clf.predict(X2)
    y2
	
#### One-hot

    from sklearn import preprocessing
	
    encoder = preprocessing.LabelBinarizer()
    encoder.fit(list(set(y2)))
	
    one_hot_labels = encoder.transform(y2)                         
    one_hot_labels

	prediction = pd.DataFrame(one_hot_labels, columns=['EAP','HPL','MWS']).to_csv('C:/Users/caijiayue/Desktop/author-pre.csv')